<div class="cart-container">
<app-navbar></app-navbar>

  <section class="cart-header">
    <h2>SHOPPING CART</h2>
    <a routerLink="/browse" class="continue-shopping">‚Üê Continue shopping</a>
  </section>

  <section class="cart-items">
    <div *ngIf="cart && cart.length; else noItems">
      <div class="cart-item" *ngFor="let item of cart; let i = index">
        <!--<img src="buchbaum.webp" alt="bro wtf">-->
        <img *ngIf="item.image"  [src]="'https://rebook-bmsd22a.bbzwinf.ch/' + item.image" [alt]="item.title">
        <div class="item-info">
          <h4>{{ item.title }}</h4>
          <p>{{ item.author }}</p>
        </div>

        <div class="quantity-control">
          <button class="quantity-btn" (click)="increaseQuantity(item)">‚ñ≤</button>
          <span>{{ item.quantity }}</span>
          <button class="quantity-btn" (click)="decreaseQuantity(item)">‚ñº</button>
        </div>

        <p class="item-price">
          CHF {{ (item.quantity * (+item.price)).toFixed(2) }}
        </p>

        <button class="remove-btn" (click)="removeItem(i)">üóë</button>
      </div>
    </div>

    <ng-template #noItems>
      <p>üõí Your cart is empty.</p>
    </ng-template>

  </section>

  <section class="cart-summary">
    <h3>Summary</h3>
    <p class="total-price">{{ getTotalPrice() }}</p>
    <button *ngIf="cart.length > 0" routerLink="/checkout" class="checkout-btn">Go to checkout</button>
  </section>

  <app-footer></app-footer>
</div>
