<div class="browse-container">
  <app-navbar></app-navbar>

  <div class="main-content">
    <section class="search-bar">
      <h2>SEARCH PRODUCTS</h2>
      <div class="search-input">
        <input type="text" placeholder="Search" [(ngModel)]="searchTerm">
        <button class="search-button" (click)="onSearch()">üîç</button>
      </div>
    </section>

    <section class="filter-section">
      <h2>FILTER</h2>
      <div class="filter-container">

        <div class="filter-group" [class.closed]="!isOpen('price')">
          <h3 (click)="toggle('price')">Price</h3>
          <div *ngIf="isOpen('price')">
            <p>CHF <input type="text" placeholder="10"> to CHF <input type="text" placeholder="100"></p>
          </div>
        </div>

        <div class="filter-group" [class.closed]="!isOpen('category')">
          <h3 (click)="toggle('category')">Category</h3>
          <ul *ngIf="isOpen('category')">
            <li>School books</li>
            <li>School material</li>
            <li>Learning material</li>
          </ul>
        </div>

        <div class="filter-group" [class.closed]="!isOpen('subject')">
          <h3 (click)="toggle('subject')">Subject</h3>
          <ul *ngIf="isOpen('subject')">
            <li>Mathematics</li>
            <li>History</li>
            <li>German</li>
            <li>Science</li>
            <li>English</li>
            <li>Literature</li>
          </ul>
        </div>

      </div>
    </section>

    <section class="book-list">
      <div *ngFor="let book of filteredBooks()" routerLink="/product" class="book-item">
        <img [src]="book.image" [alt]="book.title">
        <h4>{{ book.title }}</h4>
        <p>{{ book.author }}</p>
        <strong>CHF {{ book.price }}</strong>
      </div>
    </section>

  </div>

  <app-footer></app-footer>
</div>
